import{Z as h,A as o,$ as c,u as l}from"./main.2cb7c090.js";const m=(P=!1)=>{const _=P?window.pinia.defineStore:h,{global:s}=window.i18n;return _({id:"customerPaintProtectionWarrantyStore",state:()=>({paintProtectionWarranties:[],totalPaintProtectionWarranties:0,selectedViewPaintProtectionWarranty:[],currentPaintProtectionWarranty:{id:null,vehicle_sale_date:"",vin:"",vehicle_year:"",make:"",model:"",mileage:"",vehicle_price:"",contract_price:"",owner_name:"",owner_address:"",owner_primary_phone:"",owner_city:"",owner_state:"",owner_zip:"",dealer_name:"",dealer_lien_holder:"",dealer_primary_phone:"",dealer_phone:"",dealer_city:"",dealer_state:"",dealer_zip:"",request_deletion:!1}}),getters:{isEdit:e=>!!e.currentPaintProtectionWarranty.id},actions:{resetCurrentPaintProtectionWarranty(){this.currentPaintProtectionWarranty={id:"",vehicle_sale_date:"",vin:"",vehicle_year:"",make:"",model:"",mileage:"",vehicle_price:"",contract_price:"",owner_name:"",owner_address:"",owner_primary_phone:"",owner_city:"",owner_state:"",owner_zip:"",dealer_name:"",dealer_lien_holder:"",dealer_primary_phone:"",dealer_phone:"",dealer_city:"",dealer_state:"",dealer_zip:"",request_deletion:!1}},fetchPaintProtectionWarranties(e,a){return new Promise((i,r)=>{o.get(`/api/v1/${a}/customer/paint-protection-warranties`,{params:e}).then(t=>{this.paintProtectionWarranties=t.data.data,this.totalPaintProtectionWarranties=t.data.meta.paintProtectionWarrantyTotalCount,i(t)}).catch(t=>{c(t),r(t)})})},fetchViewPaintProtectionWarranty(e,a){return new Promise((i,r)=>{o.get(`/api/v1/${a}/customer/paint-protection-warranties/${e.id}`,{params:e}).then(t=>{this.selectedViewPaintProtectionWarranty=t.data.data,i(t)}).catch(t=>{c(t),r(t)})})},searchPaintProtectionWarranty(e,a){return new Promise((i,r)=>{o.get(`/api/v1/${a}/customer/paint-protection-warranties`,{params:e}).then(t=>{this.paintProtectionWarranties=t.data,i(t)}).catch(t=>{c(t),r(t)})})},updatePaintProtectionWarranty(e,a){return new Promise((i,r)=>{o.put(`/api/v1/${a}/customer/paint-protection-warranties/${e.id}`,e).then(t=>{if(t.data){const n=l();let d=this.paintProtectionWarranties.findIndex(p=>p.id===t.data.data.id);this.paintProtectionWarranties[d]=t.data.data,n.showNotification({type:"success",message:s.t("paint-protection-warranties.updated_message")})}i(t)}).catch(t=>{c(t),r(t)})})},addPaintProtectionWarranty(e,a){return new Promise((i,r)=>{o.post(`/api/v1/${a}/customer/paint-protection-warranties`,e).then(t=>{const n=l();this.paintProtectionWarranties.push(t.data.data),n.showNotification({type:"success",message:s.t("paint-protection-warranties.created_message")}),i(t)}).catch(t=>{c(t),r(t)})})},deletePaintProtectionWarranty(e,a){const i=l();return new Promise((r,t)=>{o.delete(`/api/v1/${a}/customer/paint-protection-warranties/delete`,{id:e}).then(n=>{let d=this.paintProtectionWarranties.findIndex(p=>p.id===e);this.paintProtectionWarranties.splice(d,1),i.showNotification({type:"success",message:s.tc("paint-protection-warranties.deleted_message",1)}),r(n)}).catch(n=>{c(n),t(n)})})}}})()};export{m as u};
