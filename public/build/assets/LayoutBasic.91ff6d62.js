import{u as V}from"./auth.38b50123.js";import{m as z,M as U,p as I,d as E,e as w,E as F,r as g,o as n,k as c,i as a,b as t,g as e,c as d,h as N,j as b,n as v,z as u,t as l,F as x,a as o,aY as O,aZ as G,a_ as P,a$ as T,b0 as Y,b1 as Z,b2 as q,b3 as H,b4 as J}from"./main.2cb7c090.js";import{u as A}from"./global.5b7fa7f1.js";import{N as K}from"./NotificationRoot.fc28d843.js";const Q={class:"mx-auto px-8"},W={class:"flex justify-between h-16 w-full"},X={class:"flex"},tt={class:"shrink-0 flex items-center"},et=["href"],st=["src"],rt={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},ot={class:"hidden sm:ml-6 sm:flex sm:items-center"},at=t("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),nt=["src"],it={class:"-mr-2 flex items-center sm:hidden"},lt=t("span",{class:"sr-only"},"Open main menu",-1),ct={class:"pt-2 pb-3 space-y-1"},ut={class:"pt-4 pb-3 border-t border-gray-200"},dt={class:"flex items-center px-4"},mt={class:"shrink-0"},ft=["src"],pt={class:"ml-3"},gt={class:"text-base font-medium text-gray-800"},_t={class:"text-sm font-medium text-gray-500"},ht=t("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),yt={class:"mt-3 space-y-1"},bt={setup(C){const{t:m}=z(),f=U(),r=A(),_=[{title:m("navigation.logout"),link:`/${r.companySlug}/customer/login`}],k=V(),$=I(),h=E(""),S=w(()=>r.currentUser&&r.currentUser.avatar!==0?r.currentUser.avatar:L());function L(){return new URL("/build/img/default-avatar.jpg",self.location)}F(f,i=>{h.value=i.path},{immediate:!0});const B=w(()=>window.customer_logo?window.customer_logo:!1);function y(i){return f.path.indexOf(i)>-1}function M(){k.logout(r.companySlug).then(i=>{i&&$.push({name:"customer.login"})})}return(i,wt)=>{const p=g("router-link"),D=g("BaseDropdownItem"),R=g("BaseDropdown");return n(),c(e(J),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:a(({open:j})=>[t("div",Q,[t("div",W,[t("div",X,[t("div",tt,[t("a",{href:`/${e(r).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[e(B)?(n(),d("img",{key:0,src:e(B),class:"h-6"},null,8,st)):N("",!0)],8,et)]),t("div",rt,[(n(!0),d(x,null,b(e(r).mainMenu,s=>(n(),c(p,{key:s.title,to:`/${e(r).companySlug}${s.link}`,class:v([y(s.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:a(()=>[u(l(s.title),1)]),_:2},1032,["to","class"]))),128))])]),t("div",ot,[at,o(e(T),{as:"div",class:"ml-3 relative"},{default:a(()=>[o(R,{"width-class":"w-48"},{activator:a(()=>[o(e(O),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[t("img",{class:"h-8 w-8 rounded-full",src:e(S),alt:""},null,8,nt)]),_:1})]),default:a(()=>[o(p,{to:{name:"customer.profile"}},{default:a(()=>[o(D,null,{default:a(()=>[o(e(G),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),u(" "+l(i.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),o(D,{onClick:M},{default:a(()=>[o(e(P),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),u(" "+l(i.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),t("div",it,[o(e(q),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:a(()=>[lt,j?(n(),c(e(Z),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(n(),c(e(Y),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),o(e(H),{class:"sm:hidden"},{default:a(()=>[t("div",ct,[(n(!0),d(x,null,b(e(r).mainMenu,s=>(n(),c(p,{key:s.title,to:`/${e(r).companySlug}${s.link}`,class:v([y(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":s.current?"page":void 0},{default:a(()=>[u(l(s.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),t("div",ut,[t("div",dt,[t("div",mt,[t("img",{class:"h-10 w-10 rounded-full",src:e(S),alt:""},null,8,ft)]),t("div",pt,[t("div",gt,l(e(r).currentUser.title),1),t("div",_t,l(e(r).currentUser.email),1)]),ht]),t("div",yt,[(n(),d(x,null,b(_,s=>o(p,{key:s.title,to:s.link,class:v([y(s.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:a(()=>[u(l(s.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},vt={key:0,class:"h-full"},xt={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Dt={setup(C){const m=A(),f=U(),r=w(()=>m.isAppLoaded);_();async function _(){await m.bootstrap(f.params.company)}return(k,$)=>{const h=g("router-view");return e(r)?(n(),d("div",vt,[o(K),o(bt),t("main",xt,[o(h)])])):N("",!0)}}};export{Dt as default};
